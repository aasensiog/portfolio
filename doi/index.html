<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="keywords" content="doi, dni, generador, cif, nie">
<meta http-equiv="last-modified" content="2013-12-05@12:12:00 TMZ" />
<meta name="viewport" content="width=device-width; initial-scale=1.0">

<title>Generador DOI (NIF, NIE, CIF)</title>

<script src="http://code.jquery.com/jquery-2.0.3.min.js"></script>
<script src="lib/bootstrap/bootstrap.min.js"></script>

<link rel="stylesheet" href="lib/bootstrap/bootstrap.min.css">
<style type="text/css">
	
</style>
<script type="text/javascript">
	$(document).ready(function() {
		var $result = $('#result');
		$('#nif').click(function() {
			$('#result_nif').val(genera_nif());
		});
		$('#nie').click(function() {
			$('#result_nie').val(genera_nie());
		});
		$('#cif').click(function() {
			$('#result_cif').val(genera_cif());
		});

		$('#result_nif').val(genera_nif());
		$('#result_nie').val(genera_nie());
		// $('#result_cif').val(genera_cif());
	});

	function genera_nif() {
		var numero = Math.floor((Math.random() * 100000000));
		return pad(numero.toString(), 8) + calcula_letra(numero);
	}
	function genera_nie() {
		var primer_digito = Math.floor((Math.random() * 3));
		var numero = Math.floor((Math.random() * 10000000));
		return "XYZ".charAt(primer_digito) + pad(numero.toString(), 7) + calcula_letra(parseInt(primer_digito.toString() + numero.toString));
	}
	function genera_cif() {
	//http://www.jagar.es/Economia/Ccif.htm
	// O P P N N N N N C
	var O = "ABCDEFGHKLMNPQS"; //15 //KLM formato antiguo
	// var P = //01 - 99
	var N = Math.floor((Math.random() * 100000));


	}
	function calcula_letra(dni_int) {
	    var lockup = 'TRWAGMYFPDXBNJZSQVHLCKE';
	    return lockup.charAt(dni_int % 23);
	}

	function pad (str, max) {
		str = str.toString();
	  	return str.length < max ? pad("0" + str, max) : str;
	}

</script>
</head>
<body>
	<div class="container">
		<div class="jumbotron">
				<h1>Generador DOI</h1>
				<p>Genera NIF, NIE y CIF aleatorios válidos</p>
		</div>
		<div class="row">
			<div class='col-md-4'>
				<div class="input-group">
					<input type="text" class="form-control" id='result_nif'>
					<span class="input-group-btn">
						<button class="btn btn-success btn-md" id='nif'>Genera NIF</button>
					</span>
			    </div>
			</div>
			<div class='col-md-4'>
				<div class="input-group">
					<input type="text" class="form-control" id='result_nie'>
					<span class="input-group-btn">
						<button class="btn btn-success btn-md" id='nie'>Genera NIE</button>
					</span>
			    </div>
			</div>
			<div class='col-md-4'>
				<div class="input-group">
					<input type="text" class="form-control" id='result_cif' placeholder='Disponible próximamente'>
					<span class="input-group-btn">
						<button class="btn btn-success btn-md" id='cif' disabled>Genera CIF</button>
					</span>
			    </div>
			</div>
		</div>
	</div>
</body>
</html>
